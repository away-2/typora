<script>
    function loadScript(url, callback) {
        document.getElementById("") && document.getElementById("").remove()
        var script = document.createElement("script")
        script.type = "text/javascript"
        script.async = "async"
        script.src = url
        script.id = ""
        var head = document.head || document.getElementsByTagName("head")[0]
        head.appendChild(script)
        if (script.readyState) {
            script.onreadystatechange = function () {
                if (script.readyState == "complete" || script.readyState == "loaded") {
                    script.onreadystatechange = null
                    callback()
                }
            }
        } else {
            script.onload = function () {
                callback()
            }
        }
    }
    loadScript(
        "https://staticprod.site.flexispot.com/dev/trantor/attachments/jquery-3.6.0.min.js",
        function () {
            loadScript(
                "https://staticprod.site.flexispot.com/dev/trantor/attachments/slick.min.js",
                function () {
                        const rug_data = [
                            {
                                title: "Living Room",
                                text: "Selecting a living room rug item for the first time in the game over the game over the game over the game over the game over the game over the.",
                                imgUrl: "https://s3.springbeetle.com/prod-us2-bucket/trantor/attachments/US/rug-buyerguide-20250107-tab-img1.png",
                                slickData: [
                                    {
                                        imgUrl: "https://s3.springbeetle.com/prod-us2-bucket/trantor/attachments/US/rug-buyerguide-20250107-slick1-img1.png",
                                        title: "9'x12' Rugs",
                                        titleUrl: "http://www.flexispot.com",
                                        text: "A wide range of 9'x12' rugs are available, including high-quality, luxury fabrics and eco-friendly options.",
                                    },
                                    {
                                        imgUrl: "https://s3.springbeetle.com/prod-us2-bucket/trantor/attachments/US/rug-buyerguide-20250107-slick1-img2.png",
                                        title: "8'x10' Rugs",
                                        titleUrl: "http://www.flexispot.com",
                                        text: "A wide range of 9'x12' rugs are available, including high-quality, luxury fabrics and eco-friendly options."
                                    },
                                    {
                                        imgUrl: "https://s3.springbeetle.com/prod-us2-bucket/trantor/attachments/US/rug-buyerguide-20250107-slick1-img3.png",
                                        title: "6'x9' Rugs",
                                        titleUrl: "http://www.flexispot.com",
                                        text: "A wide range of 9'x12' rugs are available, including high-quality, luxury fabrics and eco-friendly options."
                                    },
                                    {
                                        imgUrl: "https://s3.springbeetle.com/prod-us2-bucket/trantor/attachments/US/rug-buyerguide-20250107-slick1-img4.png",
                                        title: "5'x7' Rugs",
                                        titleUrl: "http://www.flexispot.com",
                                        text: "A wide range of 9'x12' rugs are available, including high-quality, luxury fabrics and eco-friendly options."
                                    },
                                    {
                                        imgUrl: "https://s3.springbeetle.com/prod-us2-bucket/trantor/attachments/US/rug-buyerguide-20250107-slick1-img5.png",
                                        title: "4'x6' Rugs",
                                        titleUrl: "http://www.flexispot.com",
                                        text: "A wide range of 9'x12' rugs are available, including high-quality, luxury fabrics and eco-friendly options."
                                    },
                                ]
                            },
                            {
                                title: "Bedroom",
                                text: "Selecting a living room rug item for the first time in the game over the game over the game over the game over the game over the game over the.",
                                imgUrl: "https://s3.springbeetle.com/prod-us2-bucket/trantor/attachments/US/rug-buyerguide-20250107-tab-img2.png",
                                slickData: [
                                    {
                                        imgUrl: "https://s3.springbeetle.com/prod-us2-bucket/trantor/attachments/US/rug-buyerguide-20250107-slick2-img1.png",
                                        title: "9'x12' Rugs",
                                        titleUrl: "http://www.flexispot.com",
                                        text: "A wide range of 9'x12' rugs are available, including high-quality, luxury fabrics and eco-friendly options."
                                    },
                                    {
                                        imgUrl: "https://s3.springbeetle.com/prod-us2-bucket/trantor/attachments/US/rug-buyerguide-20250107-slick2-img2.png",
                                        title: "8'x10' Rugs",
                                        titleUrl: "http://www.flexispot.com",
                                        text: "A wide range of 9'x12' rugs are available, including high-quality, luxury fabrics and eco-friendly options."
                                    },
                                    {
                                        imgUrl: "https://s3.springbeetle.com/prod-us2-bucket/trantor/attachments/US/rug-buyerguide-20250107-slick2-img3.png",
                                        title: "6'x9' Rugs",
                                        titleUrl: "http://www.flexispot.com",
                                        text: "A wide range of 9'x12' rugs are available, including high-quality, luxury fabrics and eco-friendly options."
                                    },
                                    {
                                        imgUrl: "https://s3.springbeetle.com/prod-us2-bucket/trantor/attachments/US/rug-buyerguide-20250107-slick2-img4.png",
                                        title: "5'x7' Rugs",
                                        titleUrl: "http://www.flexispot.com",
                                        text: "A wide range of 9'x12' rugs are available, including high-quality, luxury fabrics and eco-friendly options."
                                    },
                                ]
                            },
                            {
                                title: "Dinning Room",
                                text: "Selecting a living room rug item for the first time in the game over the game over the game over the game over the game over the game over the.",
                                imgUrl: "https://s3.springbeetle.com/prod-us2-bucket/trantor/attachments/US/rug-buyerguide-20250107-tab-img3.png",
                                slickData: [
                                    {
                                        imgUrl: "https://s3.springbeetle.com/prod-us2-bucket/trantor/attachments/US/rug-buyerguide-20250107-slick3-img1.png",
                                        title: "9'x12' Rugs",
                                        titleUrl: "http://www.flexispot.com",
                                        text: "A wide range of 9'x12' rugs are available, including high-quality, luxury fabrics and eco-friendly options."
                                    },
                                    {
                                        imgUrl: "https://s3.springbeetle.com/prod-us2-bucket/trantor/attachments/US/rug-buyerguide-20250107-slick3-img2.png",
                                        title: "8'x10' Rugs",
                                        titleUrl: "http://www.flexispot.com",
                                        text: "A wide range of 9'x12' rugs are available, including high-quality, luxury fabrics and eco-friendly options."
                                    },
                                    {
                                        imgUrl: "https://s3.springbeetle.com/prod-us2-bucket/trantor/attachments/US/rug-buyerguide-20250107-slick3-img3.png",
                                        title: "6'x9' Rugs",
                                        titleUrl: "http://www.flexispot.com",
                                        text: "A wide range of 9'x12' rugs are available, including high-quality, luxury fabrics and eco-friendly options."
                                    },
                                ]
                            },
                            {
                                title: "Home Office",
                                text: "Selecting a living room rug item for the first time in the game over the game over the game over the game over the game over the game over the.",
                                imgUrl: "https://s3.springbeetle.com/prod-us2-bucket/trantor/attachments/US/rug-buyerguide-20250107-tab-img4.png",
                                slickData: [
                                    {
                                        imgUrl: "https://s3.springbeetle.com/prod-us2-bucket/trantor/attachments/US/rug-buyerguide-20250107-slick4-img1.png",
                                        title: "9'x12' Rugs",
                                        titleUrl: "http://www.flexispot.com",
                                        text: "A wide range of 9'x12' rugs are available, including high-quality, luxury fabrics and eco-friendly options."
                                    },
                                    {
                                        imgUrl: "https://s3.springbeetle.com/prod-us2-bucket/trantor/attachments/US/rug-buyerguide-20250107-slick4-img2.png",
                                        title: "8'x10' Rugs",
                                        titleUrl: "http://www.flexispot.com",
                                        text: "A wide range of 9'x12' rugs are available, including high-quality, luxury fabrics and eco-friendly options."
                                    },
                                    {
                                        imgUrl: "https://s3.springbeetle.com/prod-us2-bucket/trantor/attachments/US/rug-buyerguide-20250107-slick4-img3.png",
                                        title: "6'x9' Rugs",
                                        titleUrl: "http://www.flexispot.com",
                                        text: "A wide range of 9'x12' rugs are available, including high-quality, luxury fabrics and eco-friendly options."
                                    },
                                    {
                                        imgUrl: "https://s3.springbeetle.com/prod-us2-bucket/trantor/attachments/US/rug-buyerguide-20250107-slick4-img4.png",
                                        title: "4'x6' Rugs",
                                        titleUrl: "http://www.flexispot.com",
                                        text: "A wide range of 9'x12' rugs are available, including high-quality, luxury fabrics and eco-friendly options."
                                    },
                                ]
                            },
                            {
                                title: "Kitchen",
                                text: "Selecting a living room rug item for the first time in the game over the game over the game over the game over the game over the game over the.",
                                imgUrl: "https://s3.springbeetle.com/prod-us2-bucket/trantor/attachments/US/rug-buyerguide-20250107-tab-img5.png",
                                slickData: [
                                    {
                                        imgUrl: "https://s3.springbeetle.com/prod-us2-bucket/trantor/attachments/US/rug-buyerguide-20250107-slick5-img1.png",
                                        title: "5'x7' Rugs",
                                        titleUrl: "http://www.flexispot.com",
                                        text: "A wide range of 9'x12' rugs are available, including high-quality, luxury fabrics and eco-friendly options."
                                    },
                                    {
                                        imgUrl: "https://s3.springbeetle.com/prod-us2-bucket/trantor/attachments/US/rug-buyerguide-20250107-slick5-img2.png",
                                        title: "4'x6' Rugs",
                                        titleUrl: "http://www.flexispot.com",
                                        text: "A wide range of 9'x12' rugs are available, including high-quality, luxury fabrics and eco-friendly options."
                                    },
                                    {
                                        imgUrl: "https://s3.springbeetle.com/prod-us2-bucket/trantor/attachments/US/rug-buyerguide-20250107-slick5-img3.png",
                                        title: "Runners",
                                        titleUrl: "http://www.flexispot.com",
                                        text: "A wide range of 9'x12' rugs are available, including high-quality, luxury fabrics and eco-friendly options."
                                    },
                                ]
                            },
                            {
                                title: "Hallway",
                                text: "Selecting a living room rug item for the first time in the game over the game over the game over the game over the game over the game over the.",
                                imgUrl: "https://s3.springbeetle.com/prod-us2-bucket/trantor/attachments/US/rug-buyerguide-20250107-tab-img6.png",
                                slickData: [
                                    {
                                        imgUrl: "https://s3.springbeetle.com/prod-us2-bucket/trantor/attachments/US/rug-buyerguide-20250107-slick6-img1.png",
                                        title: "4'x6' Rugs",
                                        titleUrl: "http://www.flexispot.com",
                                        text: "A wide range of 9'x12' rugs are available, including high-quality, luxury fabrics and eco-friendly options."
                                    },
                                    {
                                        imgUrl: "https://s3.springbeetle.com/prod-us2-bucket/trantor/attachments/US/rug-buyerguide-20250107-slick6-img2.png",
                                        title: "Runners",
                                        titleUrl: "http://www.flexispot.com",
                                        text: "A wide range of 9'x12' rugs are available, including high-quality, luxury fabrics and eco-friendly options."
                                    },
                                ]
                            },
                        ]
                        const rug_tabs = document.querySelectorAll(".rug_container .rug_tabs .rug_tabs_item")
                        const rug_ctx = document.querySelectorAll(".rug_container .rug_ctx")
                        // 初始化 Tab 切换和内容更新
                        function updateContent(tabIndex) {
                            const selectedData = rug_data[tabIndex]
                            console.log(selectedData,"updateContent")
                            
                            // 更新左侧标题和文本
                            $(".rug_ctx_content_left .rug_ctx_content_left_title").text(selectedData.title)
                            $(".rug_ctx_content_left .rug_ctx_content_left_text").text(selectedData.text)

                            // 更新右侧图片
                            $(".rug_ctx_content_right img").attr("data-src", selectedData.imgUrl)

                            // 更新 slick 内容
                            const $slickContainer = $(".rug_ctx_slick")
                            $slickContainer.empty() // 清空当前的 slick 项目

                            $.each(selectedData.slickData, function (index, item) {
                                const slickItemHTML = `
                                <div class="slick-item">
                                    <img src="${item.imgUrl}" alt="${item.title}" />
                                    <a href="${item.titleUrl}" target="_blank">${item.title}</a>
                                    <p>${item.text}</p>
                                </div>
                            `
                                $slickContainer.append(slickItemHTML)
                            })

                            // 初始化 Slick 轮播图
                            initializeSlick()
                        }

                        // 初始化 Slick 插件
                        function initializeSlick() {
                            $(".rug_ctx_slick").slick({
                                infinite: true,
                                slidesToShow: 3,
                                slidesToScroll: 1,
                                arrows: true,
                                dots: true
                            })
                        }

                        // Tab 点击事件绑定
                        $(".rug_tabs_item").on("click", function () {
                            const tabIndex = $(this).index()  // 获取当前点击的 Tab 索引
                            console.log(tabIndex, "tab")

                            // 更新 Tab 的激活状态
                            $(".rug_tabs_item").removeClass("rug_tabs_active")
                            $(this).addClass("rug_tabs_active")

                            // 更新内容
                            updateContent(tabIndex)
                        })

                        // 默认选择第一个 Tab
                        updateContent(0)
                    })
                })
</script>