<div class="trantor-rich-text-show">
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0,user-scalable=no" />

    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            /* scroll-behavior: smooth;
            scroll-padding-top: 104px;
            scroll-snap-align: center; */
        }

        body {
            background: #fdfcf5;
        }

        .email_container {
            max-width: 1384px;
            margin: 60px auto 40px;
        }

        .label_case {
            display: flex;
            flex-direction: column;
            margin: 0 32px;
            flex: 1;
            position: relative;
            padding: 12px 0;
        }

        .p18 {
            padding: 18px 0;
        }

        .label_class {
            margin-bottom: 8px;
            color: #26333A;
            font-family: "NotoSansJP-Regular" !important;
            font-size: 16px;
            font-style: normal;
            font-weight: 400;
            line-height: 24px;
            letter-spacing: 0.8px;
        }

        /* .label_class::after {
            content: "*";
            color: #004df2;
            font-weight: 800;
        }

        .no_required::after {
            display: none;
        } */

        .ipt_wrong {
            color: #ef2e13;
            font-family: Noto Sans JP;
            font-size: 16px;
            letter-spacing: 0.05em;
            display: none;
            position: absolute;
            left: 0;
            bottom: -25px;
        }

        .email_submit_btn {
            cursor: pointer;
            width: 522px;
            height: 52px;
            border-radius: 40px;
            display: flex;
            justify-content: center;
            align-items: center;
            color: #fff;
            background-color: #26333a;
            font-family: Moderat;
            font-weight: 700;
            font-size: 16px;
            line-height: 16px;
            margin: 120px auto 200px auto;
        }

        .textarea_class {
            border: 1px solid #a3a3a3;
            border-radius: 4px;
            background-color: #fdfcf5;
            padding: 10px;
            font-size: 20px;
        }

        .input_class {
            border: 1px solid #a3a3a3;
            border-radius: 4px;
            background-color: #fdfcf5;
            padding: 10px;
            font-size: 20px;
        }

        .ipt_class {
            margin-left: 23px;
            padding-left: 10px;
            height: 48px;
            border: 1px solid #26333a80;
            border-radius: 4px;
            background-color: #fdfcf5;
            font-size: 20px;
            margin-top: 8px;
            color: #26333a;
            display: none;
        }

        /***  单选框  */
        .radio_box {
            display: flex;
            align-items: center;
            margin-bottom: 12px;
        }

        .radio_box:last-of-type {
            margin-bottom: 0;
        }

        /* 隐藏默认的radio按钮 */
        input[type="radio"] {
            display: none;
        }

        /* 自定义的radio按钮 */
        .custom-radio {
            display: inline-block;
            width: 24px;
            height: 24px;
            border: 1px solid #a3a3a3;
            /* 边框颜色 */
            border-radius: 50%;
            position: relative;
            cursor: pointer;
            margin-top: 2px;
        }

        /* 选中状态的样式 */
        input[type="radio"]:checked+.custom-radio::after {
            content: "";
            width: 24px;
            height: 24px;
            background-color: #004df2;
            background: url("https://s3.springbeetle.eu/dev-de-s3-flexispot/trantor/attachments/USFM/hook.png") no-repeat center center;
            border-radius: 50%;
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        /* 自定义的label */
        .custom-label {
            cursor: pointer;
            margin-left: 8px;
            font-size: 16px;
            font-weight: 400;
            font-family: "NotoSansJP-Regular" !important;
            letter-spacing: 0.8px;
            line-height: 130%;
            color: #26333a;
        }

        .sucess-tip {
            width: 670px;
            height: 359px;
            border-radius: 12px;
            background: #fff;
            position: fixed;
            left: 50%;
            top: 50%;
            transform: translate(-50%, -50%);
            border-radius: 12px;
            box-shadow: 0px 4px 40px 0px #0000001a;
            display: none;
        }

        .sucess-tip-content {
            width: 100%;
            height: 100%;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            padding: 0 20px;
        }

        .sucess-tip-text {
            font-family: Noto Sans JP;
            font-size: 18px;
            font-weight: 700;
            line-height: 26px;
            letter-spacing: 0.05em;
            text-align: center;
            color: #35b37e;
        }

        .sucess-tip-close {
            position: absolute;
            right: 20px;
            top: 20px;
            cursor: pointer;
        }

        .sucess-tip-icon {
            margin-bottom: 35px;
        }

        .label_custom {
            display: flex;
            align-items: stretch;
            border: 1px solid #a3a3a3;
            border-bottom: none;
        }

        .label_custom:last-of-type {
            border-bottom: 1px solid #a3a3a3 !important;
        }

        .label_custom .label_prefix {
            width: 356px;
            display: flex;
            align-items: center;
            border-right: 1px solid #a3a3a3;
            background: #FEE9B2;

        }

        .label_custom .label_prefix .prefix_title {
            color: #26333A;
            font-family: "NotoSansJP-Medium";
            font-size: 18px;
            font-style: normal;
            font-weight: 700;
            line-height: 130%;
            letter-spacing: 0.9px;
            margin-left: 14px;
        }

        .label_custom .label_prefix .prefix_title span {
            color: #004df2;
        }

        @media screen and (max-width: 1440px) {
            .email_container {
                max-width: 890px;
            }
        }

        @media screen and (max-width: 1024px) {
            .email_container {
                max-width: 686px;
            }

            .label_class {
                font-size: 20px;
                line-height: 28px;
            }

            .custom-label {
                font-size: 16px;
                line-height: 19.2px;
            }

            .ipt_class {
                height: 43px;
                font-size: 16px;
                line-height: 19.2px;
            }

            .email_submit_btn {
                width: 380px;
                height: 52px;
                margin-top: 77px;
            }
        }

        @media screen and (max-width: 768px) {
            .email_container {
                width: 85%;
            }

            .label_class {
                font-size: 18px;
                line-height: 22px;
            }

            .custom-label {
                font-size: 16px;
                line-height: 19.2px;
            }

            .ipt_class {
                height: 43px;
                font-size: 16px;
                line-height: 19.2px;
            }

            .email_submit_btn {
                width: 100%;
                height: 40px;
                margin-top: 50px;
            }

            .sucess-tip {
                width: 85%;
                height: 250px;
            }

            .sucess-tip-text {
                font-size: 16px;
            }

            .sucess-tip-icon {
                width: 80px;
                height: 80px;
            }
        }
    </style>
    <style>
        #newPicViewsBox {
            height: 102px;
        }

        #newPicViewsBox #add_input {
            display: flex;
            width: max-content;
        }

        .img-item {
            width: 102px;
            height: 102px;
            margin-right: 5px;
            border-radius: 4px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-size: 60px;
            color: #dddddd;
            border: 1px solid #dddddd;
            float: left;
            position: relative;
            overflow: hidden;
        }

        .item-add {
            cursor: pointer;
        }

        .item-delete {
            opacity: 0;
            position: absolute;
            font-size: 20px;
            cursor: pointer;
            background-color: red;
            border-radius: 2px;
            color: white;
            transition: all 0.3s;
            right: 8px;
            top: -15px;
            width: 15px;
            height: 15px;
            line-height: 0.7;
            text-align: center;
        }

        .img-item:hover .item-delete {
            top: 8px;
            opacity: 1;
        }

        #newUpContactImages {
            display: none;
        }
    </style>
    <div class="email_container">
        <!-- form module -->
        <div class="form_case" id="form-case">
            <div class="form_container">
                <form action="" id="form">
                    <div class="label_custom">
                        <div class="label_prefix">
                            <div class="prefix_title">
                                <span>※</span> ご氏名
                            </div>
                        </div>
                        <div class="label_case" id="Q1">
                            <label class="label_class">プレゼント抽選に当選された場合の宛名になります。</label>
                            <input id="Name" class="input_class"></input>
                            <div class="ipt_wrong">不得为空</div>
                        </div>
                    </div>
                    <div class="label_custom">
                        <div class="label_prefix">
                            <div class="prefix_title">
                                <span>※</span> あなたのニックネーム
                            </div>
                        </div>
                        <div class="label_case" id="Q2">
                            <label class="label_class">当選された場合、サイト上での当選者発表の名前として使用いたします。</label>
                            <input id="NickName" class="input_class"></input>
                            <div class="ipt_wrong">不得为空</div>
                        </div>
                    </div>
                    <div class="label_custom">
                        <div class="label_prefix">
                            <div class="prefix_title">
                                <span>※</span> ご住所
                            </div>
                        </div>
                        <div class="label_case" id="Q3">
                            <label class="label_class">プレゼント抽選に当選された場合の発送先となります。</label>
                            <textarea id="otherSuggestions" class="textarea_class" rows="3"></textarea>
                            <div class="ipt_wrong">不得为空</div>
                        </div>
                    </div>
                    <div class="label_custom">
                        <div class="label_prefix">
                            <div class="prefix_title">
                                <span>※</span> 性別
                            </div>
                        </div>
                        <div class="label_case p18" id="Q4">
                            <label class="radio_box">
                                <input type="radio" name="sex" value="女性" checked />
                                <span class="custom-radio"></span>
                                <span class="custom-label">女性</span>
                            </label>
                            <label class="radio_box">
                                <input type="radio" name="sex" value="男性" />
                                <span class="custom-radio"></span>
                                <span class="custom-label">男性</span>
                            </label>
                        </div>
                    </div>
                    <div class="label_custom">
                        <div class="label_prefix">
                            <div class="prefix_title">
                                <span>※</span> ご年齢
                            </div>
                        </div>
                        <div class="label_case p18" id="Q5">
                            <label class="radio_box">
                                <input type="radio" name="age" value="10歳未満" checked />
                                <span class="custom-radio"></span>
                                <span class="custom-label">10歳未満</span>
                            </label>
                            <label class="radio_box">
                                <input type="radio" name="age" value="10代" />
                                <span class="custom-radio"></span>
                                <span class="custom-label">10代</span>
                            </label>
                            <label class="radio_box">
                                <input type="radio" name="age" value="20代" />
                                <span class="custom-radio"></span>
                                <span class="custom-label">20代</span>
                            </label>
                            <label class="radio_box">
                                <input type="radio" name="age" value="30代" />
                                <span class="custom-radio"></span>
                                <span class="custom-label">30代</span>
                            </label>
                            <label class="radio_box">
                                <input type="radio" name="age" value="40代" />
                                <span class="custom-radio"></span>
                                <span class="custom-label">40代</span>
                            </label>
                            <label class="radio_box">
                                <input type="radio" name="age" value="50代以上" />
                                <span class="custom-radio"></span>
                                <span class="custom-label">50代以上</span>
                            </label>
                        </div>
                    </div>
                    <div class="label_custom">
                        <div class="label_prefix">
                            <div class="prefix_title">
                                <span>※</span> ご連絡のとれるメールアドレス
                            </div>
                        </div>
                        <div class="label_case" id="Q6">
                            <label class="label_class">半角英数文字で入力お願いします。</label>
                            <input id="otherSuggestions" class="input_class"></input>
                            <div class="ipt_wrong">不得为空</div>
                        </div>
                    </div>
                    <div class="label_custom">
                        <div class="label_prefix">
                            <div class="prefix_title">
                                <span>※</span> ご連絡のとれる電話番号
                            </div>
                        </div>
                        <div class="label_case" id="Q7">
                            <label class="label_class">半角数字で入力お願いします。</label>
                            <input id="otherSuggestions" class="input_class"></input>
                            <div class="ipt_wrong">不得为空</div>
                        </div>
                    </div>
                    <div class="label_custom">
                        <div class="label_prefix">
                            <div class="prefix_title">
                                <span>※</span> Xで投稿したリンク
                            </div>
                        </div>
                        <div class="label_case" id="Q8">
                            <!-- <label class="label_class">当選された場合、サイト上での当選者発表の名前として使用いたします。</label> -->
                            <input id="otherSuggestions" class="input_class"></input>
                            <div class="ipt_wrong">不得为空</div>
                        </div>
                    </div>
                    <div class="label_custom">
                        <div class="label_prefix">
                            <div class="prefix_title">
                                <span>※</span> 投稿した椅子の画像をアップロードする
                            </div>
                        </div>
                        <div class="label_case" id="Q9">
                            <!-- 图片上传 -->
                            <div class="new-img-items">
                                <label class="label_class">ファイル形式はJPEG（.jpeg／.jpg）、PNG、画像ファイル容量は5MB/枚以下でお送りください</label>
                                <input type="file" name="images" id="newUpContactImages"
                                    accept="image/gif, image/jpeg, image/png, image/jpg" />
                                <div id="newPicViewsBox"></div>
                                <div class="ipt_wrong">不得为空</div>
                            </div>
                        </div>
                    </div>
                    <div class="label_custom">
                        <div class="label_prefix">
                            <div class="prefix_title">
                                <span>※</span> 不要となるチェアの回収は必要ですか？
                            </div>
                        </div>
                        <div class="label_case p18" id="Q10">
                            <label class="radio_box">
                                <input type="radio" name="isRecycle" value="必要" checked />
                                <span class="custom-radio"></span>
                                <span class="custom-label">必要</span>
                            </label>
                            <label class="radio_box">
                                <input type="radio" name="isRecycle" value="不要" />
                                <span class="custom-radio"></span>
                                <span class="custom-label">不要</span>
                            </label>
                        </div>
                    </div>
                    <div class="label_custom">
                        <div class="label_prefix">
                            <div class="prefix_title">
                                <span>※</span> FlexiSpotを何で知りましたか？
                            </div>
                        </div>
                        <div class="label_case p18" id="Q11">
                            <label class="radio_box">
                                <input type="radio" name="source" value="インターネット上の広告" checked />
                                <span class="custom-radio"></span>
                                <span class="custom-label">インターネット上の広告</span>
                            </label>
                            <label class="radio_box">
                                <input type="radio" name="source" value="ネット検索していたらたどり着いた" />
                                <span class="custom-radio"></span>
                                <span class="custom-label">ネット検索していたらたどり着いた</span>
                            </label>
                            <label class="radio_box">
                                <input type="radio" name="source" value="友人・知人からの口コミ" />
                                <span class="custom-radio"></span>
                                <span class="custom-label">友人・知人からの口コミ</span>
                            </label>
                            <label class="radio_box">
                                <input type="radio" name="source" value="店頭にて" />
                                <span class="custom-radio"></span>
                                <span class="custom-label">店頭にて</span>
                            </label>
                            <label class="radio_box">
                                <input type="radio" name="source" value="XなどSNS経由で" />
                                <span class="custom-radio"></span>
                                <span class="custom-label">XなどSNS経由で</span>
                            </label>
                            <label class="radio_box">
                                <input type="radio" name="source" value="その他" />
                                <span class="custom-radio"></span>
                                <span class="custom-label">その他</span>
                            </label>
                        </div>
                    </div>
                    <div class="label_custom">
                        <div class="label_prefix">
                            <div class="prefix_title">
                                <span>※</span> チェア・椅子との思い出やエピソード
                            </div>
                        </div>
                        <div class="label_case" id="Q12">
                            <label class="label_class">チェア・椅子に関しての思い出エピソード等を教えてください。</label>
                            <textarea id="otherSuggestions" class="textarea_class" rows="4"></textarea>
                        </div>
                    </div>
                    <button class="email_submit_btn" id="submit">送 信</button>
                </form>
            </div>
        </div>
    </div>

    <div class="sucess-tip" id="sucess-tip">
        <svg class="sucess-tip-close" onclick="closeTip()" width="32" height="32" viewBox="0 0 32 32" fill="none"
            xmlns="http://www.w3.org/2000/svg">
            <g clip-path="url(#clip0_11_20)">
                <circle cx="16" cy="16" r="15.25" stroke="#26333A" stroke-width="1.5"></circle>
                <path
                    d="M19.9905 12.4688L16.237 16.0676M12.4835 19.6664L16.237 16.0676M16.237 16.0676L12.4907 12.3213L19.8446 19.6752"
                    stroke="#26333A" stroke-width="1.5"></path>
            </g>
            <defs>
                <clipPath id="clip0_11_20">
                    <rect width="32" height="32" fill="white"></rect>
                </clipPath>
            </defs>
        </svg>
        <div class="sucess-tip-content">
            <svg class="sucess-tip-icon" width="136" height="136" viewBox="0 0 136 136" fill="none"
                xmlns="http://www.w3.org/2000/svg">
                <path
                    d="M67.9998 0C30.4428 0 0 30.445 0 67.9999C0 105.555 30.4428 136 67.9998 136C105.555 136 136 105.555 136 67.9999C136 30.445 105.555 0 67.9998 0ZM105.19 51.8467L60.8613 96.1739C59.8254 97.212 58.1431 97.212 57.107 96.1739L30.8103 69.8771C29.7744 68.8412 29.7744 67.1589 30.8103 66.1219L39.0757 57.8576C40.1116 56.8206 41.7939 56.8206 42.8299 57.8576L58.9844 74.0098L93.1701 39.8261C94.206 38.7891 95.8884 38.7891 96.9245 39.8261L105.19 48.0904C106.228 49.1274 106.228 50.8097 105.19 51.8467Z"
                    fill="#35B37E"></path>
            </svg>
            <div class="sucess-tip-text">
                アンケートにご協力いただきありがとうございました。
            </div>
        </div>
    </div>
    <script>
        var file_list = []
        var new_all_picW = "100px"
        var new_all_picH = "100px"
        var newfile = []
        var newdefaultAdd = `
      <div id="add_input" onclick="javascript:document.getElementById('newUpContactImages').click()">
        <svg class="item-add" width="102" height="102" viewBox="0 0 102 102" fill="none" xmlns="http://www.w3.org/2000/svg">
          <rect x="0.393668" y="0.228629" width="100.63" height="100.63" rx="3.77137" fill="#F6F4F1" stroke="#26333A" stroke-width="0.457258"/>
          <path d="M32 50.1311H70.0874M51.0437 31.0874L51.0437 69.1748" stroke="#26333A" stroke-opacity="0.1" stroke-width="6.14313" stroke-linecap="round"/>
        </svg>
      </div>`
        var newPicViewsBox = document.getElementById("newPicViewsBox")
        newrenderImg()
        // input发生改变
        $("#newUpContactImages").on("change", function () {
            onc()
        })
        // 调图片上传接口
        function onc() {
            var itemAdd = document.getElementById("add_input")
            var files = document.getElementById("newUpContactImages").files
            var files_ejz = document.getElementById("newUpContactImages").files[0]
            console.log(files[0], "图片");
            if (!files_ejz) {
                return
            }
            itemAdd.innerHTML = '<span style="font-size:25px">Loading...</span>'
            postData("/api/trantor/file-storage/getUploadPreSignedUrl", {
                file: files_ejz,
            }).then((res) => {
                res = JSON.parse(res)
                if (res[Object.keys(res)[0]]) {
                    file_list.push(res[Object.keys(res)[0]])
                    newrenderImg()
                } else {
                    alert(res.msg)
                }
            })
        }
        // 定义上传图片方法
        function postData(url, data) {
            return new Promise((resolve, reject) => {
                var formData = new FormData()
                for (let key in data) {
                    formData.append(key, data[key])
                }
                console.log(formData, "formData");

                var xhr = new XMLHttpRequest()
                xhr.open("post", url)
                xhr.send(formData)

                xhr.onreadystatechange = function () {
                    if (xhr.readyState == 4 && xhr.status == 200) {
                        resolve(xhr.response)
                    } else if (xhr.status == 500) {
                        reject("fail")
                    }
                }
            })
        }
        // 上传的图片展示
        function newrenderImg() {
            newPicViewsBox.innerHTML = ""
            for (let i = 0; i < file_list.length; i++) {
                newPicViewsBox.innerHTML +=
                    "<div class='img-item'><img style='float:left;display:block;min-width:" +
                    new_all_picW +
                    ";min-height: " +
                    new_all_picH +
                    "' src='" +
                    file_list[i] +
                    "' id='img" +
                    i +
                    "'  /><div id='itemdeleteIocn" +
                    i +
                    "' class='item-delete'>×</div></div>"

                $("#newPicViewsBox")
                    .off("click", "#itemdeleteIocn0")
                    .on("click", "#itemdeleteIocn0", function () {
                        file_list.splice(0, 1)
                        newrenderImg()
                    })
                $("#newPicViewsBox")
                    .off("click", "#itemdeleteIocn1")
                    .on("click", "#itemdeleteIocn1", function () {
                        file_list.splice(1, 1)
                        newrenderImg()
                    })
                $("#newPicViewsBox")
                    .off("click", "#itemdeleteIocn2")
                    .on("click", "#itemdeleteIocn2", function () {
                        file_list.splice(2, 1)
                        newrenderImg()
                    })
            }
            if (file_list.length >= 3) {
                console.log("最多三张图片")
            } else {
                newPicViewsBox.innerHTML += newdefaultAdd
            }
        }

    </script>

 <script>
        function loadScript(url, callback) {
            document.getElementById("") && document.getElementById("").remove()
            var script = document.createElement("script")
            script.type = "text/javascript"
            script.async = "async"
            script.src = url
            script.id = ""
            var head = document.head || document.getElementsByTagName("head")[0]
            head.appendChild(script)
            if (script.readyState) {
                //IE
                script.onreadystatechange = function () {
                    if (
                        script.readyState == "complete" ||
                        script.readyState == "loaded"
                    ) {
                        script.onreadystatechange = null
                        callback()
                    }
                }
            } else {
                //非IE
                script.onload = function () {
                    callback()
                }
            }
        }

        const url = window.location.href
        const urlObj = new URL(url)
        const params = new URLSearchParams(urlObj.search)
        const email = params.get("email")
        const orderNo = params.get("orderNo")

        const checkValue = (id, val) => {
            const ele = document.getElementById(id)
            if (val === undefined || val?.length === 0 || val === "") {
                ele.lastElementChild.style.display = "block"
            } else {
                ele.lastElementChild.style.display = "none"
            }
        }

        const checkValueOther = (id, val) => {
            const ele = document.getElementById(id)
            if (val === "") {
                ele.lastElementChild.style.display = "block"
                ele.lastElementChild.style.left = "20px"
            } else {
                ele.lastElementChild.style.display = "none"
                ele.lastElementChild.style.left = "0px"
            }
        }

        function getRadioValue(name) {
            const radios = document.querySelectorAll("input[name=" + name + "]")
            let selectedValue
            radios.forEach((radio) => {
                if (radio.checked) {
                    selectedValue = radio.value
                }
            })
            return selectedValue
        }

        function getCheckValue(name) {
            const checks = document.querySelectorAll("input[name=" + name + "]")
            let selectedValue = []
            checks.forEach((check) => {
                if (check.checked) {
                    selectedValue.push(check.value)
                }
            })
            return selectedValue
        }

        function getTextAreaValue(id) {
            const ele = document.getElementById(id)
            return ele.value
        }

        function labelShow(id, name, type, other_id) {
            const ele = document.getElementById(id)
            ele.onchange = function () {
                if (type === "radio") {
                    const val = getRadioValue(name)
                    checkValue(id, val)

                    if (val === other_id) {
                        const ohter_ipt = document.getElementById(other_id)
                        if (ohter_ipt) {
                            ohter_ipt.style.display = "block"
                        }
                        // checkValueOther(id, ohter_ipt.value)
                    } else {
                        const ohter_ipt = document.getElementById(other_id)
                        if (ohter_ipt) {
                            ohter_ipt.style.display = "none"
                        }
                    }
                }
                if (type === "check") {
                    const val = getCheckValue(name)
                    checkValue(id, val)

                    if (val.includes(other) && other_id) {
                        const ohter_ipt = document.getElementById(other_id)
                        if (ohter_ipt) {
                            ohter_ipt.style.display = "block"
                        }
                        const ohter_value = ohter_ipt.value
                        // checkValueOther(id, ohter_value)
                    } else {
                        const ohter_ipt = document.getElementById(other_id)
                        if (ohter_ipt) {
                            ohter_ipt.style.display = "none"
                        }
                    }
                }
            }

            if (other_id) {
                const ohter_ipt = document.getElementById(other_id)
                ohter_ipt.onblur = function () {
                    if (ohter_ipt.value && ohter_ipt.value !== "") {
                    } else {
                        checkValueOther(id, ohter_ipt.value)
                    }
                }
            }
        }

        labelShow("Q1", "sex", "radio")
        labelShow("Q2", "age", "radio")
        labelShow("Q3", "familyComposition", "radio", "q3_ohter")

        labelShow("Q4", "roomSize", "radio")
        labelShow("Q5", "revenue", "radio")
        labelShow("Q6", "occupation", "radio")
        labelShow("Q7", "hobbies", "check", "q7_ohter")
        labelShow("Q8", "reasonForPurchase", "check", "q8_ohter")
        labelShow("Q9", "considerations", "check", "q9_ohter")
        labelShow("Q10", "sourcesOfInformation", "check", "q10_ohter")
        labelShow("Q11", "chairInformationSources", "check", "q11_ohter")

        function closeTip() {
            document.getElementById("sucess-tip").style.display = "none"
        }

        const other = "その他（具体的に記入）"

        loadScript(
            "https://staticprod.site.flexispot.com/dev/trantor/attachments/jquery-3.6.0.min.js",
            function () {
                document
                    .getElementById("submit")
                    .addEventListener("click", function (e) {
                        e.preventDefault()

                        const sex = getRadioValue("sex")
                        checkValue("Q1", sex)
                        const age = getRadioValue("age")
                        checkValue("Q2", age)

                        const familyComposition = getRadioValue("familyComposition")
                        checkValue("Q3", familyComposition)
                        const q3_ohter = document.getElementById("q3_ohter").value
                        if (familyComposition === "q3_ohter") {
                            checkValueOther("Q3", q3_ohter)
                        }

                        const roomSize = getRadioValue("roomSize")
                        checkValue("Q4", roomSize)
                        const revenue = getRadioValue("revenue")
                        checkValue("Q5", revenue)
                        const occupation = getRadioValue("occupation")
                        checkValue("Q6", occupation)

                        const hobbies = getCheckValue("hobbies")
                        checkValue("Q7", hobbies)
                        const q7_ohter = document.getElementById("q7_ohter").value
                        if (hobbies.includes(other)) {
                            checkValueOther("Q7", q7_ohter)
                        }

                        const reasonForPurchase = getCheckValue("reasonForPurchase")
                        checkValue("Q8", reasonForPurchase)
                        const q8_ohter = document.getElementById("q8_ohter").value
                        if (reasonForPurchase.includes(other)) {
                            checkValueOther("Q8", q8_ohter)
                        }

                        const considerations = getCheckValue("considerations")
                        checkValue("Q9", considerations)
                        const q9_ohter = document.getElementById("q9_ohter").value
                        if (considerations.includes(other)) {
                            checkValueOther("Q9", q9_ohter)
                        }

                        const sourcesOfInformation = getCheckValue("sourcesOfInformation")
                        checkValue("Q10", sourcesOfInformation)
                        const q10_ohter = document.getElementById("q10_ohter").value
                        if (sourcesOfInformation.includes(other)) {
                            checkValueOther("Q10", q10_ohter)
                        }

                        const chairInformationSources = getCheckValue(
                            "chairInformationSources"
                        )
                        checkValue("Q11", chairInformationSources)
                        const q11_ohter = document.getElementById("q11_ohter").value
                        if (chairInformationSources.includes(other)) {
                            checkValueOther("Q11", q11_ohter)
                        }

                        const otherSuggestions = getTextAreaValue("otherSuggestions")

                        //必填校验提示
                        const ipt_wrong = document.querySelectorAll(".ipt_wrong")
                        for (let i = 0; i < ipt_wrong.length; i++) {
                            if (ipt_wrong[i].style.display === "block") {
                                ipt_wrong[i].scrollIntoView({
                                    block: "center",
                                    behavior: "smooth",
                                })
                                return
                            }
                        }

                        let data = [
                            {
                                site: `JP`,
                                email: email,
                                orderNo: orderNo,
                                sex: sex,
                                age: age,
                                familyComposition:
                                    familyComposition === "q3_ohter"
                                        ? q3_ohter
                                        : familyComposition,
                                roomSize: roomSize,
                                revenue: revenue,
                                occupation: occupation,
                                hobbies: hobbies.includes(other)
                                    ? hobbies.join("|").replace(other, q7_ohter)
                                    : hobbies.join("|"),
                                reasonForPurchase: reasonForPurchase.includes(other)
                                    ? reasonForPurchase.join("|").replace(other, q8_ohter)
                                    : reasonForPurchase.join("|"),
                                considerations: considerations.includes(other)
                                    ? considerations.join("|").replace(other, q9_ohter)
                                    : considerations.join("|"),
                                sourcesOfInformation: sourcesOfInformation.includes(other)
                                    ? sourcesOfInformation.join("|").replace(other, q10_ohter)
                                    : sourcesOfInformation.join("|"),
                                chairInformationSources: chairInformationSources.includes(other)
                                    ? chairInformationSources.join("|").replace(other, q11_ohter)
                                    : chairInformationSources.join("|"),
                                otherSuggestions: otherSuggestions,
                            },
                        ]
                        document.getElementById("sucess-tip").style.display = "block"

                        console.log(123, data);
                        // return;
                        //     $.ajax({
                        //         type: "POST",
                        //         url: "/api/trantor/flow/flexispot_misc_QuestionnairesGatherFlow",
                        //         data: JSON.stringify(data),
                        //         async: false,
                        //         cache: false,
                        //         processData: false,
                        //         dataType: "json",
                        //         contentType: "application/json; charset=UTF-8",
                        //         success: function (res) {
                        //             console.log(res)
                        //             // 成功
                        //             if (res.code === 200) {
                        //                 // alert('success')
                        //                 document.getElementById("sucess-tip").style.display = "block"
                        //             }
                        //         },
                        //         error: function (res) {
                        //             console.log(res)
                        //             if (res.responseJSON.code == 500) {
                        //                 if (
                        //                     res.responseJSON.msg ==
                        //                     "The questionnaire has been submitted"
                        //                 ) {
                        //                     alert("再送信しないでください")
                        //                 }
                        //             }
                        //         },
                        //     })
                    })
            }
        )
    </script>
</div>